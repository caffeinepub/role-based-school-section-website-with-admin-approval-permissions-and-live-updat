{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 35,
  "summary": "Build a modern, mobile-responsive Class 8 (DOLON) school section website (GitHub Pages-deployable) with role selection (Student/Visitor/Admin), application + admin approval + login, visitor/admin shared-password access, admin dashboard with advanced controls (including section/item edit locking and master freeze), role/editor management, and live-updating content (notices/homework/routine/schedule) with clear lock indicators and a premium post-login dashboard UI in a professional blue/white animated theme.",
  "architectural_notes": [
    "Target deployment includes GitHub Pages (static hosting); real-time global sync and authentication/approval workflows will require a shared backend or hosted realtime database/service (not achievable with only local browser storage).",
    "App should behave like a single-page app (smooth transitions without full page reload); role-based UI elements must be conditionally rendered/hidden based on authenticated role/permissions.",
    "Lock states (master freeze, per-section locks, per-item locks) must be enforced by the same permissions layer as editing (not only UI-disabled) and persisted/shared so all users see consistent lock status.",
    "If adding background audio, ensure the music file is properly licensed/royalty-free and consider an on/off toggle + remember preference for user experience and autoplay restrictions."
  ],
  "known_issues": [
    "App currently renders as a blank white page (likely build/runtime error or routing/asset path issue on deployment).",
    "Student application ‚Üí approval ‚Üí login flow is not working: applicants can log in but cannot see approval/pending status, and pending approvals/users are not appearing in the Admin Dashboard.",
    "Admin Dashboard shows an authorization/access error (\"I don't have access\") when trying to view student applications and approved users; admin cannot fetch these lists.",
    "Student registration/login is currently blocked (registered students cannot enter/login as Student).",
    "Admin Dashboard shows an \"I am not admin\" / non-admin access error state that should be removed/fixed for admin users.",
    "Admin Dashboard (getAllApplications) fails with server error: IC0508 / Reject code 5 because backend canister b3wdl-saaaa-aaaad-aeinq-cai is stopped (\"does not have a CallContextManager\").",
    "Background music is not playing (instrumental track / global music player playback issue).",
    "Admin Dashboard lock controls (section locks / item locks) and Master Lock are malfunctioning or not working as expected.",
    "In-app assistant floating chat panel/page is not scrollable (chat content cannot be scrolled).",
    "Regression: Admin Dashboard \"Pending Applications\" list is not showing pending applications again (appears empty/not loading)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-a-first-screen-role-selection-ui-with-three-large-interactive-options-student-visitor-admin-selecting-an-option-routes-the-user-into-the-correct-flow-without-full-page-reload-spa-behavior",
      "title": "Implement a first-screen Role Selection UI with three large interactive options: Student, Visitor, Admin; selecting an option routes the user into the correct flow without full page reload (SPA behavior).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-an-application-level-authentication-session-system-supporting-visitor-shared-password-login-admin-shared-password-login-and-student-account-login-after-admin-approval-sessions-must-persist-across-refresh-e-g-localstorage-and-must-expose-the-current-role-to-the-ui-for-role-based-visibility",
      "title": "Create an application-level authentication + session system supporting: Visitor shared-password login, Admin shared-password login, and Student account login after admin approval. Sessions must persist across refresh (e.g., localStorage) and must expose the current role to the UI for role-based visibility.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-student-application-flow-allow-students-to-submit-an-application-form-collecting-name-class-section-username-password-create-a-pending-student-record-on-submit-block-pending-students-from-accessing-the-main-public-pages-and-show-the-message-your-request-is-waiting-for-admin-approval",
      "title": "Implement the Student Application flow: allow students to submit an application form collecting Name, Class & Section, Username, Password; create a pending student record on submit; block pending students from accessing the main/public pages and show the message: \"Your request is waiting for admin approval.\"",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-an-admin-dashboard-that-allows-the-admin-to-view-all-student-access-requests-approve-or-reject-pending-applications-manage-student-roles-view-only-vs-editor-and-remove-editor-permissions-all-actions-must-be-performed-from-the-website-ui-no-code-edits",
      "title": "Build an Admin Dashboard that allows the admin to: view all student access requests, approve or reject pending applications, manage student roles (view-only vs editor), and remove editor permissions. All actions must be performed from the website UI (no code edits).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-backend-data-models-and-crud-operations-for-notices-announcements-homework-class-routine-days-periods-subjects-and-class-time-schedule-enforce-permissions-so-only-admin-and-student-editors-can-add-edit-delete-content-visitors-and-approved-non-editor-students-are-view-only",
      "title": "Implement backend data models and CRUD operations for: Notices & Announcements, Homework, Class Routine (days, periods, subjects), and Class Time/Schedule. Enforce permissions so only Admin and Student Editors can add/edit/delete content; Visitors and Approved non-editor students are view-only.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-real-time-global-updates-behavior-so-that-when-an-authorized-user-admin-editor-updates-notices-homework-routine-schedule-all-other-users-see-the-latest-data-automatically-without-manual-refresh-use-a-frontend-auto-refresh-strategy-compatible-with-the-platform-e-g-react-query-refetching-invalidation-and-ensure-users-never-see-a-local-only-divergent-version",
      "title": "Implement ‚Äúreal-time global updates‚Äù behavior so that when an authorized user (admin/editor) updates notices/homework/routine/schedule, all other users see the latest data automatically without manual refresh. Use a frontend auto-refresh strategy compatible with the platform (e.g., React Query refetching + invalidation) and ensure users never see a local-only divergent version.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-role-based-ui-visibility-across-the-entire-app-admin-tools-are-hidden-from-non-admins-editing-controls-are-shown-only-to-admin-and-student-editors-visitors-and-view-only-students-see-only-viewing-ui",
      "title": "Implement role-based UI visibility across the entire app: admin tools are hidden from non-admins; editing controls are shown only to Admin and Student Editors; visitors and view-only students see only viewing UI.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-clean-modern-school-friendly-ui-with-a-consistent-blue-and-white-theme-rounded-cards-soft-shadows-mobile-responsive-layout-and-calm-animations-fade-in-slide-up-hover-and-button-effects-ensure-all-user-facing-text-is-simple-english-and-student-friendly",
      "title": "Create a clean, modern, school-friendly UI with a consistent blue-and-white theme, rounded cards, soft shadows, mobile-responsive layout, and calm animations (fade-in, slide-up, hover and button effects). Ensure all user-facing text is simple English and student-friendly.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-blank-white-page-on-app-load-by-ensuring-the-react-tree-is-wrapped-in-the-app-authentication-provider-so-that-any-component-calling-useauth-e-g-rootcomponent-in-frontend-src-app-tsx-is-always-rendered-within-authprovider-because-frontend-src-main-tsx-is-immutable-implement-this-provider-wrapping-inside-frontend-src-app-tsx-or-another-non-immutable-ancestor-component-without-modifying-frontend-src-main-tsx",
      "title": "Fix the blank white page on app load by ensuring the React tree is wrapped in the app authentication provider so that any component calling `useAuth()` (e.g., `RootComponent` in `frontend/src/App.tsx`) is always rendered within `AuthProvider`. Because `frontend/src/main.tsx` is immutable, implement this provider wrapping inside `frontend/src/App.tsx` (or another non-immutable ancestor component) without modifying `frontend/src/main.tsx`.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-visible-runtime-error-fallback-so-that-if-the-app-encounters-an-unexpected-render-router-error-users-see-a-simple-english-error-screen-instead-of-a-blank-white-page-the-fallback-must-show-a-short-message-e-g-something-went-wrong-please-refresh-the-page-and-a-reload-button-and-it-must-log-the-underlying-error-to-the-browser-console-for-debugging",
      "title": "Add a user-visible runtime error fallback so that if the app encounters an unexpected render/router error, users see a simple English error screen instead of a blank white page. The fallback must show a short message (e.g., \"Something went wrong. Please refresh the page.\") and a \"Reload\" button, and it must log the underlying error to the browser console for debugging.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-lock-control-dashboard-ui-within-the-existing-admin-dashboard-route-that-provides-a-master-lock-switch-per-section-lock-toggles-for-notices-homework-routine-class-time-and-per-item-lock-toggles-for-the-latest-items-in-each-section-announcements-homework-routine-s-and-class-time-entries",
      "title": "Add an Admin Lock Control Dashboard UI (within the existing Admin Dashboard route) that provides: a master lock switch, per-section lock toggles for Notices/Homework/Routine/Class Time, and per-item lock toggles for the latest items in each section (announcements, homework, routine(s), and class time entries).",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-display-clear-lock-unlock-indicators-and-locked-visual-states-across-the-app-for-both-sections-and-individual-items-including-greyed-out-content-tooltips-and-disabled-editing-controls-when-locked",
      "title": "Display clear lock/unlock indicators (üîí / üîì) and locked visual states across the app for both sections and individual items, including greyed-out content, tooltips, and disabled editing controls when locked.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-premium-dashboard-style-home-page-for-class-8-dolon-that-becomes-the-primary-post-login-landing-page-for-all-authenticated-roles-admin-student-visitor-and-update-navigation-to-include-it",
      "title": "Create a premium dashboard-style Home page for Class 8 (DOLON) that becomes the primary post-login landing page for all authenticated roles (Admin/Student/Visitor), and update navigation to include it.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-admin-only-home-page-cards-for-pending-student-approval-requests-section-lock-status-overview-and-quick-edit-shortcuts-to-locked-unlocked-sections",
      "title": "Add Admin-only Home page cards for: pending student approval requests, section lock status overview, and quick edit shortcuts to locked/unlocked sections.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-lock-state-fetching-and-mutations-into-the-frontend-using-react-query-so-that-lock-indicators-and-disabled-editing-controls-stay-up-to-date-without-requiring-manual-refresh",
      "title": "Integrate lock-state fetching and mutations into the frontend using React Query so that lock indicators and disabled editing controls stay up-to-date without requiring manual refresh.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-shiny-animated-credit-label-with-the-exact-text-made-by-sunyad-ahmed-shrabon-to-the-global-app-footer-in-the-shared-layout-and-style-it-with-a-subtle-shine-effect-that-matches-the-existing-school-friendly-theme",
      "title": "Add a shiny/animated credit label with the exact text \"Made By Sunyad Ahmed Shrabon\" to the global app footer (in the shared layout) and style it with a subtle ‚Äúshine‚Äù effect that matches the existing school-friendly theme.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-student-login-flow-so-it-cannot-log-in-locally-without-checking-backend-approval-status-when-a-student-attempts-to-log-in-the-app-must-verify-the-username-password-against-backend-data-and-then-1-if-approved-create-a-student-session-and-navigate-to-home-2-if-still-pending-create-a-pending-session-and-navigate-to-pending-approval-3-if-rejected-not-found-invalid-password-show-a-clear-error-and-do-not-create-a-session",
      "title": "Fix the Student Login flow so it cannot log in locally without checking backend approval status. When a student attempts to log in, the app must verify the username+password against backend data and then: (1) if approved, create a student session and navigate to /home; (2) if still pending, create a pending session and navigate to /pending-approval; (3) if rejected/not found/invalid password, show a clear error and do not create a session.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-admin-dashboard-data-visibility-so-pending-applications-and-approved-users-reliably-show-for-admins-the-admin-dashboard-must-1-show-pending-applications-from-the-backend-and-allow-approve-reject-and-2-show-a-list-of-approved-student-users-so-the-admin-can-see-users-and-later-manage-editor-permissions-if-backend-calls-fail-due-to-authorization-the-ui-must-display-an-english-error-state-instead-of-silently-showing-empty-tables",
      "title": "Fix Admin Dashboard data visibility so pending applications and approved users reliably show for admins. The Admin Dashboard must (1) show pending applications from the backend and allow approve/reject; and (2) show a list of approved student users so the admin can see users (and later manage editor permissions). If backend calls fail due to authorization, the UI must display an English error state instead of silently showing empty tables.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-global-footer-credit-text-displays-exactly-made-by-sunyad-ahmed-shrabon-with-a-clear-polished-shine-shimmer-animation-that-is-visible-on-both-desktop-and-mobile-matches-the-existing-school-friendly-theme-and-respects-reduced-motion-preferences",
      "title": "Ensure the global footer credit text displays exactly \"Made By Sunyad Ahmed Shrabon\" with a clear, polished shine/shimmer animation that is visible on both desktop and mobile, matches the existing school-friendly theme, and respects reduced-motion preferences.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-admin-authorization-initialization-so-that-an-admin-who-logs-in-via-the-shared-admin-password-can-successfully-call-admin-only-backend-methods-e-g-getallapplications-and-getstudentslist-without-receiving-an-unauthorized-access-denied-error",
      "title": "Fix admin authorization initialization so that an admin who logs in via the shared admin password can successfully call admin-only backend methods (e.g., `getAllApplications()` and `getStudentsList()`) without receiving an unauthorized/access-denied error.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-admin-dashboard-error-handling-for-the-pending-applications-and-approved-students-queries-so-the-ui-does-not-always-label-any-error-as-access-denied-instead-display-a-clear-english-error-state-that-distinguishes-authorization-failures-from-other-failures-and-includes-the-underlying-error-message-for-debugging",
      "title": "Improve the Admin Dashboard error handling for the Pending Applications and Approved Students queries so the UI does not always label any error as \"Access Denied\"; instead, display a clear English error state that distinguishes authorization failures from other failures and includes the underlying error message for debugging.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-upgrade-the-visual-design-of-all-login-related-screens-to-look-more-premium-and-cool-while-keeping-the-existing-school-friendly-blue-white-base-theme-role-selection-visitor-login-admin-login-student-login-and-student-apply-pages-improvements-should-include-a-more-polished-background-e-g-subtle-gradient-soft-decorative-shapes-improved-card-styling-depth-borders-glow-and-smoother-micro-animations-for-initial-load-and-hover-focus-states",
      "title": "Upgrade the visual design of all login-related screens to look more premium and ‚Äúcool‚Äù while keeping the existing school-friendly blue/white base theme: Role selection, Visitor login, Admin login, Student login, and Student apply pages. Improvements should include a more polished background (e.g., subtle gradient + soft decorative shapes), improved card styling (depth, borders, glow), and smoother micro-animations for initial load and hover/focus states.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-make-form-inputs-and-buttons-on-login-apply-pages-feel-more-modern-and-interactive-consistent-spacing-stronger-focus-rings-clearer-error-states-optional-leading-icons-where-appropriate-and-improved-button-hover-pressed-loading-states-including-disabled-appearance",
      "title": "Make form inputs and buttons on login/apply pages feel more modern and interactive: consistent spacing, stronger focus rings, clearer error states, optional leading icons where appropriate, and improved button hover/pressed/loading states (including disabled appearance).",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-role-selection-page-presentation-to-feel-more-premium-refine-card-layout-typography-enhance-the-role-icon-tiles-and-add-subtle-motion-hover-effects-that-feel-cohesive-with-the-login-pages-without-adding-new-navigation-steps-or-changing-the-current-routes",
      "title": "Improve the Role Selection page presentation to feel more premium: refine card layout/typography, enhance the role icon tiles, and add subtle motion/hover effects that feel cohesive with the login pages (without adding new navigation steps or changing the current routes).",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-admin-shared-password-sessions-so-an-admin-user-can-successfully-call-admin-only-backend-methods-e-g-getallapplications-getstudentslist-setmasterlock-setsectionlock-setitemlock-and-the-admin-dashboard-no-longer-shows-an-authorization-error-for-real-admins",
      "title": "Fix Admin shared-password sessions so an Admin user can successfully call admin-only backend methods (e.g., getAllApplications, getStudentsList, setMasterLock, setSectionLock, setItemLock) and the Admin Dashboard no longer shows an authorization error for real admins.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-student-applications-submitted-from-the-student-apply-page-reliably-appear-in-the-admin-dashboard-pending-applications-list-for-admins",
      "title": "Ensure student applications submitted from the Student Apply page reliably appear in the Admin Dashboard Pending Applications list for admins.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-approval-pipeline-so-approving-a-pending-student-works-end-to-end-approval-action-succeeds-application-disappears-from-pending-student-appears-in-approved-students-and-the-approved-student-can-log-in-remove-any-broken-principal-generation-behavior-used-during-approval-that-can-prevent-approvals-from-completing",
      "title": "Fix the approval pipeline so approving a pending student works end-to-end (approval action succeeds, application disappears from pending, student appears in Approved Students, and the approved student can log in). Remove any broken principal-generation behavior used during approval that can prevent approvals from completing.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-update-admin-dashboard-error-messaging-so-that-the-dashboard-does-not-show-a-misleading-access-denied-you-do-not-have-permission-state-when-the-real-issue-is-misconfigured-admin-initialization-or-other-non-auth-failures-keep-authorization-protection-but-show-clearer-english-guidance-and-include-the-underlying-error-message-for-debugging",
      "title": "Update Admin Dashboard error messaging so that the dashboard does not show a misleading 'Access Denied' / 'You do not have permission' state when the real issue is misconfigured admin initialization or other non-auth failures. Keep authorization protection, but show clearer English guidance and include the underlying error message for debugging.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-detect-and-classify-the-specific-internet-computer-rejection-error-shown-to-admins-when-calling-backend-queries-e-g-reject-code-5-error-code-ic0508-with-text-indicating-the-canister-is-stopped-and-expose-it-as-a-distinct-error-category-in-the-frontend-error-utilities-so-the-ui-can-render-a-targeted-message-instead-of-a-generic-server-failure",
      "title": "Detect and classify the specific Internet Computer rejection error shown to admins when calling backend queries (e.g., Reject code: 5 / Error code: IC0508 with text indicating the canister is stopped), and expose it as a distinct error category in the frontend error utilities so the UI can render a targeted message instead of a generic server failure.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-dashboard-data-error-ui-pending-applications-and-approved-students-sections-so-that-when-the-error-category-is-canister-stopped-service-unavailable-the-alert-title-and-message-clearly-explain-that-the-server-is-temporarily-unavailable-because-the-backend-canister-is-stopped-and-instruct-the-user-to-try-again-later-and-keep-showing-the-technical-error-details-for-debugging",
      "title": "Update the Admin Dashboard data error UI (Pending Applications and Approved Students sections) so that when the error category is \"canister stopped / service unavailable\", the alert title and message clearly explain that the server is temporarily unavailable because the backend canister is stopped, and instruct the user to try again later (and keep showing the technical error details for debugging).",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-react-query-behavior-for-admin-list-queries-that-currently-refetch-every-5-seconds-applications-and-approved-students-so-that-when-the-last-error-is-classified-as-canister-stopped-service-unavailable-the-ui-does-not-aggressively-auto-refetch-on-an-interval-until-the-user-manually-retries-to-avoid-constant-repeated-failing-calls-and-noisy-errors",
      "title": "Adjust React Query behavior for admin list queries that currently refetch every 5 seconds (applications and approved students) so that when the last error is classified as \"canister stopped / service unavailable\", the UI does not aggressively auto-refetch on an interval until the user manually retries (to avoid constant repeated failing calls and noisy errors).",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-relaxing-instrumental-background-music-track-sound-only-no-voice-to-the-frontend-as-a-static-asset-stored-under-frontend-public-assets-generated-and-playable-in-the-app",
      "title": "Add a relaxing instrumental background music track (sound only, no voice) to the frontend as a static asset, stored under `frontend/public/assets/generated/` and playable in the app.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-global-background-music-player-ui-that-is-available-across-the-authenticated-app-layout-the-layout-used-for-home-notices-homework-routine-schedule-admin-the-player-must-provide-at-least-play-pause-and-mute-unmute-controls-and-it-must-not-start-audible-playback-without-a-user-interaction",
      "title": "Implement a global background music player UI that is available across the authenticated app layout (the layout used for /home, /notices, /homework, /routine, /schedule, /admin). The player must provide at least Play/Pause and Mute/Unmute controls, and it must not start audible playback without a user interaction.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-user-s-background-music-preferences-at-minimum-muted-state-and-whether-playback-was-enabled-in-localstorage-so-the-setting-survives-refreshes-default-must-be-muted-off-until-the-user-opts-in",
      "title": "Persist the user‚Äôs background music preferences (at minimum: muted state and whether playback was enabled) in `localStorage` so the setting survives refreshes. Default must be muted/off until the user opts in.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-admin-dashboard-lock-status-fetching-so-master-lock-section-locks-notices-homework-routine-classtime-and-item-locks-each-display-their-correct-state-and-do-not-interfere-with-each-other",
      "title": "Fix Admin Dashboard lock status fetching so Master Lock, Section Locks (notices/homework/routine/classTime), and Item Locks each display their correct state and do not interfere with each other.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-admin-dashboard-lock-mutations-so-toggling-master-section-item-locks-updates-the-ui-consistently-and-immediately-after-success-with-clear-english-error-messages-when-a-toggle-fails",
      "title": "Fix Admin Dashboard lock mutations so toggling Master/Section/Item locks updates the UI consistently and immediately after success, with clear English error messages when a toggle fails.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-background-music-playback-so-that-when-the-user-presses-play-in-the-global-music-player-the-audio-reliably-starts-playing-subject-to-browser-autoplay-rules-and-the-ui-reflects-whether-playback-succeeded",
      "title": "Fix background music playback so that when the user presses Play in the global music player, the audio reliably starts playing (subject to browser autoplay rules), and the UI reflects whether playback succeeded.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-assistant-ui-consisting-of-a-floating-chat-button-and-an-expandable-chat-panel-that-works-in-the-existing-react-spa",
      "title": "Add an in-app assistant UI consisting of a floating chat button and an expandable chat panel that works in the existing React SPA.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-rule-based-assistant-response-engine-no-external-ai-apis-that-uses-the-current-authenticated-role-admin-student-visitor-to-tailor-help-responses",
      "title": "Implement a rule-based assistant response engine (no external AI APIs) that uses the current authenticated role (Admin/Student/Visitor) to tailor help responses.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-add-did-you-mean-suggestions-when-the-assistant-detects-partial-matches-e-g-user-types-rutine-or-home-work-and-allow-one-click-insertion-sending-of-the-suggested-intent",
      "title": "Add ‚ÄúDid you mean‚Ä¶?‚Äù suggestions when the assistant detects partial matches (e.g., user types 'rutine' or 'home work') and allow one-click insertion/sending of the suggested intent.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-connect-the-assistant-to-existing-frontend-data-sources-so-it-can-answer-basic-context-questions-using-already-fetched-data-latest-notices-announcements-homework-today-s-routine-and-class-schedule",
      "title": "Connect the assistant to existing frontend data sources so it can answer basic context questions using already-fetched data: latest notices/announcements, homework, today‚Äôs routine, and class schedule.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-admin-guidance-responses-for-common-admin-tasks-approving-students-managing-editor-permissions-using-master-section-item-locks-and-provide-student-visitor-guidance-responses-for-viewing-content-and-logging-in",
      "title": "Provide Admin guidance responses for common admin tasks (approving students, managing editor permissions, using master/section/item locks) and provide Student/Visitor guidance responses for viewing content and logging in.",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-assistant-ui-preferences-in-localstorage-at-minimum-whether-the-panel-is-open-closed-and-a-short-recent-chat-history-so-the-assistant-state-survives-refresh",
      "title": "Persist assistant UI preferences in localStorage (at minimum: whether the panel is open/closed and a short recent chat history) so the assistant state survives refresh.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-style-the-assistant-ui-to-match-the-existing-school-friendly-blue-white-theme-and-respect-reduced-motion-preferences-for-any-animations-used-in-the-assistant-panel",
      "title": "Style the assistant UI to match the existing school-friendly blue/white theme and respect reduced-motion preferences for any animations used in the assistant panel.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-floating-in-app-assistant-chat-panel-scrollable-so-users-can-scroll-through-long-message-histories-on-both-desktop-and-mobile",
      "title": "Make the floating in-app Assistant chat panel scrollable so users can scroll through long message histories on both desktop and mobile.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-assistantwidget-implementation-to-use-a-scroll-container-that-reliably-supports-scrolling-and-ref-based-auto-scroll-without-modifying-any-files-under-frontend-src-components-ui",
      "title": "Update the AssistantWidget implementation to use a scroll container that reliably supports scrolling and ref-based auto-scroll without modifying any files under frontend/src/components/ui.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-admin-authorization-initialization-so-the-admin-dashboard-can-reliably-fetch-and-display-pending-student-applications-when-the-admin-logs-in-via-the-shared-admin-password-without-internet-identity-specifically-ensure-the-backend-actor-calls-initializeaccesscontrolwithsecret-using-the-existing-caffeineadmintoken-url-hash-secret-even-when-identity-is-not-present-so-getallapplications-succeeds-for-admins-and-the-ui-shows-the-real-pending-applications-instead-of-an-empty-state",
      "title": "Fix admin authorization initialization so the Admin Dashboard can reliably fetch and display pending student applications when the admin logs in via the shared admin password (without Internet Identity). Specifically, ensure the backend actor calls `_initializeAccessControlWithSecret(...)` using the existing `caffeineAdminToken` URL/hash secret even when `identity` is not present, so `getAllApplications()` succeeds for admins and the UI shows the real pending applications instead of an empty state.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-admin-dashboard-pending-applications-loading-empty-error-behavior-so-it-never-silently-appears-empty-when-the-query-fails-when-the-applications-query-errors-the-dashboard-must-show-a-clear-english-error-state-using-the-existing-alert-ui-and-must-not-show-the-no-pending-applications-empty-state-at-the-same-time-also-log-the-underlying-error-to-the-browser-console-for-debugging",
      "title": "Improve the Admin Dashboard Pending Applications loading/empty/error behavior so it never silently appears empty when the query fails. When the applications query errors, the dashboard must show a clear English error state (using the existing alert UI) and must not show the 'No pending applications' empty state at the same time; also log the underlying error to the browser console for debugging.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-dashboard-error-ui-so-it-no-longer-shows-the-service-temporarily-unavailable-canister-stopped-message-block-and-does-not-display-verbose-technical-error-details-e-g-request-id-reject-code-ic0508-http-details-to-end-users",
      "title": "Update the Admin Dashboard error UI so it no longer shows the ‚ÄúService Temporarily Unavailable‚Äù / canister-stopped message block and does not display verbose technical error details (e.g., Request ID, Reject code, IC0508, HTTP details) to end users.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-admin-dashboard-user-facing-error-messaging-that-explicitly-mentions-admin-authorization-checks-e-g-titles-like-access-denied-and-messages-like-you-need-to-be-logged-in-as-admin-to-view-this-data-replace-with-neutral-english-error-text-that-does-not-reference-admin-check-logic",
      "title": "Remove Admin Dashboard user-facing error messaging that explicitly mentions admin authorization checks (e.g., titles like ‚ÄúAccess Denied‚Äù and messages like ‚ÄúYou need to be logged in as Admin to view this data‚Äù). Replace with neutral English error text that does not reference admin-check logic.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-gate-admin-only-data-fetching-on-admin-only-ui-surfaces-so-non-admin-users-do-not-trigger-admin-only-backend-queries-e-g-do-not-run-usegetallapplications-on-the-home-page-unless-the-current-session-role-is-admin",
      "title": "Gate admin-only data fetching on admin-only UI surfaces so non-admin users do not trigger admin-only backend queries (e.g., do not run `useGetAllApplications()` on the Home page unless the current session role is Admin).",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Role selection first screen with animated Student / Visitor / Admin options and smooth transitions (SPA-like, no reload)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Student application flow: form (name, class & section, username, password) -> pending status -> blocked until admin approval -> login after approval",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Visitor flow: shared password gate (password: \"dolon\") then view-only access to notices, homework, class routine, class time",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Admin flow: password gate (password: \"dolon.admin\") and dedicated admin dashboard",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Admin dashboard capabilities: view/approve/reject student requests; manage roles; assign/remove editor permissions for students",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Content management: add/edit/delete notices & announcements, homework, class routine (days/periods/subjects), and class time/schedule (admin and editors only)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Real-time global updates: any authorized edit instantly syncs for all users (no local-only content versions)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "UI/UX requirements: consistent blue/white theme, rounded cards/soft shadows, calm animations (fade/slide/hover/button), role-based UI visibility, fully mobile responsive, beginner-friendly structure, in-app editing only",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Advanced admin locking controls: lock/unlock editing per section (Notices/Homework/Routine/Class Time), lock/unlock individual items, and a master switch to freeze all edits; locked content not editable by students or editors",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Locking UI indicators & visual feedback: show lock/unlock icons next to sections and items; locked state greyed-out with tooltip ‚ÄúThis section is locked by admin.‚Äù; smooth animations on lock/unlock",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Premium post-login home/dashboard for Class 8 (DOLON): welcome message, current user role, latest notices preview, today‚Äôs routine, quick-access cards; admin-only cards for pending approvals, lock-status overview, and quick edit shortcuts",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Implement a backend locking system that allows the Admin to control edit access for Class 8 (DOLON) content via: (1) a master lock that freezes all edits, (2) per-section locks for Notices, Homework, Routine, and Class Time, and (3) per-item locks for individual announcements, homework items, routine entries, and class time entries.",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Extend backend authorization so that editor assignment/revocation for specific students continues to work, and lock enforcement takes precedence over editor permissions (i.e., being an editor does not bypass any lock).",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Add a shiny/animated credit text label: \"Made By Sunyad Ahmed Shrabon\" (e.g., shine effect in UI/footer)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Update the backend to support a real student authentication + approval-status check for the Student Login page. Add backend methods that can: (a) validate username+password; (b) determine whether the account is pending or approved; (c) return the approved user role (student vs studentEditor) when approved. The backend must persist student credentials after approval (so approved students can still log in).",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Add backend support for the Admin Dashboard to fetch approved users (students) for display. Provide a backend admin-only query that returns the list of approved student profiles (at minimum: name, username, role).",
      "reqIds": [
        "REQ-22"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Update frontend actor initialization to ensure `_initializeAccessControlWithSecret(...)` is invoked consistently for admin sessions (including when no Internet Identity identity is present), using the existing `caffeineAdminToken` URL parameter handling in `frontend/src/hooks/useActor.ts`, so that admin backend calls are authorized.",
      "reqIds": [
        "REQ-25"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Improve/make the login UI look cooler/more premium (enhanced styling, animations, and overall polish for the login screens)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add a relaxing background music track (instrumental only, no voice) to the website/app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Update backend lock APIs (or add new ones) so the frontend can query Master Lock, Section Lock, and Item Lock states independently, without using a combined 'isContentLocked' check for master/section/item state display.",
      "reqIds": [
        "REQ-41"
      ],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Add an in-app assistant (floating chat button + chat box) with rule-based contextual replies for Student/Visitor/Admin questions, including fallback help, ‚Äúdid you mean‚Äù suggestions, and optional connections to notices/homework/routine/schedule plus admin guidance",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Remove/disable the admin-check/authorization error states in the Admin Dashboard and stop showing this type of verbose technical ‚ÄúService Temporarily Unavailable / canister stopped (IC0508 Reject code 5)‚Äù error details to the user.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Role-based school section website with admin approval, permissions, and live-updating content",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}